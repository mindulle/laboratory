[dart:io](../dart-io/dart-io-library){._links-link}

HttpRequest class
=================

A server-side object that contains the content of and information about
an HTTP request.

`HttpRequest` objects are generated by an
[HttpServer](httpserver-class), which listens for HTTP requests on a
specific host and port. For each request received, the HttpServer, which
is a [Stream](../dart-async/stream-class), generates an `HttpRequest`
object and adds it to the stream.

An `HttpRequest` object delivers the body content of the request as a
stream of byte lists. The object also contains information about the
request, such as the method, URI, and headers.

In the following code, an HttpServer listens for HTTP requests. When the
server receives a request, it uses the HttpRequest object\'s `method`
property to dispatch requests.

``` {.language-dart data-language="dart"}
final HOST = InternetAddress.loopbackIPv4;
final PORT = 80;

HttpServer.bind(HOST, PORT).then((_server) {
  _server.listen((HttpRequest request) {
    switch (request.method) {
      case 'GET':
        handleGetRequest(request);
        break;
      case 'POST':
        ...
    }
  },
  onError: handleError);    // listen() failed.
}).catchError(handleError);
```

An HttpRequest object provides access to the associated
[HttpResponse](httpresponse-class) object through the response property.
The server writes its response to the body of the HttpResponse object.
For example, here\'s a function that responds to a request:

``` {.language-dart data-language="dart"}
void handleGetRequest(HttpRequest req) {
  HttpResponse res = req.response;
  res.write('Received request ${req.method}: ${req.uri.path}');
  res.close();
}
```

Implemented types

:   -   [Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

Constructors
------------

[HttpRequest](httprequest/httprequest)()

Properties {#instance-properties}
----------

[certificate](httprequest/certificate) →
[X509Certificate](x509certificate-class)?

::: {.features}
read-only
:::

The client certificate of the client making the request.

[connectionInfo](httprequest/connectioninfo) →
[HttpConnectionInfo](httpconnectioninfo-class)?

::: {.features}
read-only
:::

Information about the client connection.

[contentLength](httprequest/contentlength) →
[int](../dart-core/int-class)

::: {.features}
read-only
:::

The content length of the request body.

[cookies](httprequest/cookies) →
[List](../dart-core/list-class)\<[Cookie](cookie-class)\>

::: {.features}
read-only
:::

The cookies in the request, from the \"Cookie\" headers.

[first](../dart-async/stream/first) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
read-only, inherited
:::

The first element of this stream.

[hashCode](../dart-core/object/hashcode) → [int](../dart-core/int-class)

::: {.features}
read-only, inherited
:::

The hash code for this object.

[headers](httprequest/headers) → [HttpHeaders](httpheaders-class)

::: {.features}
read-only
:::

The request headers.

[isBroadcast](../dart-async/stream/isbroadcast) →
[bool](../dart-core/bool-class)

::: {.features}
read-only, inherited
:::

Whether this stream is a broadcast stream.

[isEmpty](../dart-async/stream/isempty) →
[Future](../dart-async/future-class)\<[bool](../dart-core/bool-class)\>

::: {.features}
read-only, inherited
:::

Whether this stream contains any elements.

[last](../dart-async/stream/last) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
read-only, inherited
:::

The last element of this stream.

[length](../dart-async/stream/length) →
[Future](../dart-async/future-class)\<[int](../dart-core/int-class)\>

::: {.features}
read-only, inherited
:::

The number of elements in this stream.

[method](httprequest/method) → [String](../dart-core/string-class)

::: {.features}
read-only
:::

The method, such as \'GET\' or \'POST\', for the request.

[persistentConnection](httprequest/persistentconnection) →
[bool](../dart-core/bool-class)

::: {.features}
read-only
:::

The persistent connection state signaled by the client.

[protocolVersion](httprequest/protocolversion) →
[String](../dart-core/string-class)

::: {.features}
read-only
:::

The HTTP protocol version used in the request, either \"1.0\" or
\"1.1\".

[requestedUri](httprequest/requesteduri) → [Uri](../dart-core/uri-class)

::: {.features}
read-only
:::

The requested URI for the request.

[response](httprequest/response) → [HttpResponse](httpresponse-class)

::: {.features}
read-only
:::

The [HttpResponse](httpresponse-class) object, used for sending back the
response to the client.

[runtimeType](../dart-core/object/runtimetype) →
[Type](../dart-core/type-class)

::: {.features}
read-only, inherited
:::

A representation of the runtime type of the object.

[session](httprequest/session) → [HttpSession](httpsession-class)

::: {.features}
read-only
:::

The session for the given request.

[single](../dart-async/stream/single) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
read-only, inherited
:::

The single element of this stream.

[uri](httprequest/uri) → [Uri](../dart-core/uri-class)

::: {.features}
read-only
:::

The URI for the request.

Methods {#instance-methods}
-------

[any](../dart-async/stream/any)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) element)) →
[Future](../dart-async/future-class)\<[bool](../dart-core/bool-class)\>

::: {.features}
inherited
:::

Checks whether `test` accepts any element provided by this stream.

[asBroadcastStream](../dart-async/stream/asbroadcaststream)({void
onListen([StreamSubscription](../dart-async/streamsubscription-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>
subscription)?, void
onCancel([StreamSubscription](../dart-async/streamsubscription-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>
subscription)?}) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Returns a multi-subscription stream that produces the same events as
this.

[asyncExpand](../dart-async/stream/asyncexpand)\<E\>([Stream](../dart-async/stream-class)\<E\>?
convert([Uint8List](../dart-typed_data/uint8list-class) event)) →
[Stream](../dart-async/stream-class)\<E\>

::: {.features}
inherited
:::

Transforms each element into a sequence of asynchronous events.

[asyncMap](../dart-async/stream/asyncmap)\<E\>([FutureOr](../dart-async/futureor-class)\<E\>
convert([Uint8List](../dart-typed_data/uint8list-class) event)) →
[Stream](../dart-async/stream-class)\<E\>

::: {.features}
inherited
:::

Creates a new stream with each data event of this stream asynchronously
mapped to a new event.

[cast](../dart-async/stream/cast)\<R\>() →
[Stream](../dart-async/stream-class)\<R\>

::: {.features}
inherited
:::

Adapt this stream to be a `Stream<R>`.

[contains](../dart-async/stream/contains)([Object](../dart-core/object-class)?
needle) →
[Future](../dart-async/future-class)\<[bool](../dart-core/bool-class)\>

::: {.features}
inherited
:::

Returns whether `needle` occurs in the elements provided by this stream.

[distinct](../dart-async/stream/distinct)(\[[bool](../dart-core/bool-class)
equals([Uint8List](../dart-typed_data/uint8list-class) previous,
[Uint8List](../dart-typed_data/uint8list-class) next)?\]) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Skips data events if they are equal to the previous data event.

[drain](../dart-async/stream/drain)\<E\>(\[E? futureValue\]) →
[Future](../dart-async/future-class)\<E\>

::: {.features}
inherited
:::

Discards all data on this stream, but signals when it is done or an
error occurred.

[elementAt](../dart-async/stream/elementat)([int](../dart-core/int-class)
index) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Returns the value of the `index`th data event of this stream.

[every](../dart-async/stream/every)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) element)) →
[Future](../dart-async/future-class)\<[bool](../dart-core/bool-class)\>

::: {.features}
inherited
:::

Checks whether `test` accepts all elements provided by this stream.

[expand](../dart-async/stream/expand)\<S\>([Iterable](../dart-core/iterable-class)\<S\>
convert([Uint8List](../dart-typed_data/uint8list-class) element)) →
[Stream](../dart-async/stream-class)\<S\>

::: {.features}
inherited
:::

Transforms each element of this stream into a sequence of elements.

[firstWhere](../dart-async/stream/firstwhere)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) element),
{[Uint8List](../dart-typed_data/uint8list-class) orElse()?}) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Finds the first element of this stream matching `test`.

[fold](../dart-async/stream/fold)\<S\>(S initialValue, S combine(S
previous, [Uint8List](../dart-typed_data/uint8list-class) element)) →
[Future](../dart-async/future-class)\<S\>

::: {.features}
inherited
:::

Combines a sequence of values by repeatedly applying `combine`.

[forEach](../dart-async/stream/foreach)(void
action([Uint8List](../dart-typed_data/uint8list-class) element)) →
[Future](../dart-async/future-class)

::: {.features}
inherited
:::

Executes `action` on each element of this stream.

[handleError](../dart-async/stream/handleerror)([Function](../dart-core/function-class)
onError, {[bool](../dart-core/bool-class) test(dynamic error)?}) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Creates a wrapper Stream that intercepts some errors from this stream.

[join](../dart-async/stream/join)(\[[String](../dart-core/string-class)
separator = \"\"\]) →
[Future](../dart-async/future-class)\<[String](../dart-core/string-class)\>

::: {.features}
inherited
:::

Combines the string representation of elements into a single string.

[lastWhere](../dart-async/stream/lastwhere)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) element),
{[Uint8List](../dart-typed_data/uint8list-class) orElse()?}) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Finds the last element in this stream matching `test`.

[listen](../dart-async/stream/listen)(void
onData([Uint8List](../dart-typed_data/uint8list-class) event)?,
{[Function](../dart-core/function-class)? onError, void onDone()?,
[bool](../dart-core/bool-class)? cancelOnError}) →
[StreamSubscription](../dart-async/streamsubscription-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Adds a subscription to this stream.

[map](../dart-async/stream/map)\<S\>(S
convert([Uint8List](../dart-typed_data/uint8list-class) event)) →
[Stream](../dart-async/stream-class)\<S\>

::: {.features}
inherited
:::

Transforms each element of this stream into a new stream event.

[noSuchMethod](../dart-core/object/nosuchmethod)([Invocation](../dart-core/invocation-class)
invocation) → dynamic

::: {.features}
inherited
:::

Invoked when a non-existent method or property is accessed.

[pipe](../dart-async/stream/pipe)([StreamConsumer](../dart-async/streamconsumer-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>
streamConsumer) → [Future](../dart-async/future-class)

::: {.features}
inherited
:::

Pipes the events of this stream into `streamConsumer`.

[reduce](../dart-async/stream/reduce)([Uint8List](../dart-typed_data/uint8list-class)
combine([Uint8List](../dart-typed_data/uint8list-class) previous,
[Uint8List](../dart-typed_data/uint8list-class) element)) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Combines a sequence of values by repeatedly applying `combine`.

[singleWhere](../dart-async/stream/singlewhere)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) element),
{[Uint8List](../dart-typed_data/uint8list-class) orElse()?}) →
[Future](../dart-async/future-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Finds the single element in this stream matching `test`.

[skip](../dart-async/stream/skip)([int](../dart-core/int-class) count) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Skips the first `count` data events from this stream.

[skipWhile](../dart-async/stream/skipwhile)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) element)) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Skip data events from this stream while they are matched by `test`.

[take](../dart-async/stream/take)([int](../dart-core/int-class) count) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Provides at most the first `count` data events of this stream.

[takeWhile](../dart-async/stream/takewhile)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) element)) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Forwards data events while `test` is successful.

[timeout](../dart-async/stream/timeout)([Duration](../dart-core/duration-class)
timeLimit, {void
onTimeout([EventSink](../dart-async/eventsink-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>
sink)?}) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Creates a new stream with the same events as this stream.

[toList](../dart-async/stream/tolist)() →
[Future](../dart-async/future-class)\<[List](../dart-core/list-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>\>

::: {.features}
inherited
:::

Collects all elements of this stream in a `List`.

[toSet](../dart-async/stream/toset)() →
[Future](../dart-async/future-class)\<[Set](../dart-core/set-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>\>

::: {.features}
inherited
:::

Collects the data of this stream in a `Set`.

[toString](../dart-core/object/tostring)() →
[String](../dart-core/string-class)

::: {.features}
inherited
:::

A string representation of this object.

[transform](../dart-async/stream/transform)\<S\>([StreamTransformer](../dart-async/streamtransformer-class)\<[Uint8List](../dart-typed_data/uint8list-class),
S\> streamTransformer) → [Stream](../dart-async/stream-class)\<S\>

::: {.features}
inherited
:::

Applies `streamTransformer` to this stream.

[where](../dart-async/stream/where)([bool](../dart-core/bool-class)
test([Uint8List](../dart-typed_data/uint8list-class) event)) →
[Stream](../dart-async/stream-class)\<[Uint8List](../dart-typed_data/uint8list-class)\>

::: {.features}
inherited
:::

Creates a new stream from this stream that discards some elements.

Operators
---------

[operator
==](../dart-core/object/operator_equals)([Object](../dart-core/object-class)
other) → [bool](../dart-core/bool-class)

::: {.features}
inherited
:::

The equality operator.

::: {._attribution}
© 2012 the Dart project authors\
Licensed under the BSD 3-Clause \"New\" or \"Revised\" License.\
<https://api.dart.dev/stable/2.18.5/dart-io/HttpRequest-class.html>
:::
